{% extends "_base.twig" %}
{% block title %}Submit bot{% endblock %}
{% block extraresources %}
<link rel="stylesheet" type="text/css" href="css/legend.css">
<link rel="canonical" href="https://twitchbots.info/submit">
{% endblock %}
{% block content %}
<div class="page-header">
    <h1>Submit a new bot</h1>
</div>
<p class="lead">If you know about a Twitch account that is used as a helpful chat bot, please tell us about it with the form below and we'll review the information. If we've got wrong date, please switch to "Correction and report what's right. If you have a bigger dataset to submit, please contact us directly.</p>
</div>
{% if success %}
<div class="alert alert-success" role="alert">
    <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
    <span class="sr-only">Success:</span>
    Your {% if correction %}correction{% else %}submission{% endif %} has been saved. We will review it as soon as possible.
</div>
{% endif %}
{% if error == 1 %}
<div class="alert alert-danger" role="alert">
    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
    <span class="sr-only">Error:</span>
    Something went wrong while submitting.
</div>
{% elseif error == 2 %}
<div class="alert alert-danger" role="alert">
    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
    <span class="sr-only">Error:</span>
    The specified bot {{ username }} isn't a registered account on Twitch.
</div>
{% elseif error == 3 %}
<div class="alert alert-info" role="alert">
    <span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>
    <span class="sr-only">Info:</span>
    The bot {{ username }} has already been submitted. Thank you for submitting it again, though!
</div>
{% elseif error == 4 %}
<div class="alert alert-danger" role="alert">
    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
    <span class="sr-only">Error:</span>
    The bot {{ username }} isn't in our database.
</div>
{% endif %}
<div class="panel panel-default">
    <div class="panel-body">
        <form class="form-horizontal" method="post" action="lib/submit">
            <fieldset class="form-group">
                <legend class="col-sm-2 control-label">Submission Type</legend>
                <div class="col-sm-10">
                    <label class="radio-inline">
                        <input type="radio" name="submission-type" value="0" id="new-bot"{% if not correction %} checked{% endif %}>
                        New Bot
                    </label>
                    <label class="radio-inline">
                        <input type="radio" name="submission-type" value="1" id="correction"{% if correction %} checked{% endif %}>
                        Correction
                    </label>
                </div>
            </fieldset>
            <div class="form-group">
                <label for="username" class="col-sm-2 control-label">Twitch Username</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="username" name="username" placeholder="Username" value="{{ username|e('html_attr') }}" required>
                </div>
            </div>
            <div class="form-group">
                <label for="existing-type" class="col-sm-2 control-label">Bot Type</label>
                <div class="col-sm-10">
                    <select class="form-control" name="type" id="existing-type">
                        <option value="0">New type&hellip;</option>
                        {% for type in types %}
                            <option value="{{ type.id|e('html_attr') }}">{{ type.name|e }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            <div class="form-group" id="bottype">
                <label for="type" class="col-sm-2 control-label">New Type Description</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control col-sm-10" id="type" name="description" placeholder="Type">
                    <p class="help-block">Describe the bot type, normally the name of the software that runs it and if possible a link to the website of it. In case of a bot hosted by a thirdparty this is the name and URL of their site.</p>
                </div>
            </div>
            <div class="form-group" hidden>
                <input type="hidden" value="{{ token|e('html_attr') }}" name="token">
                <input type="hidden" value="PUT" name="_METHOD">
            </div>
            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <button type="submit" class="btn btn-primary">Submit</button>
                </div>
            </div>
        </form>
    </div>
</div>
<script src="js/submit.js"></script>
{% endblock %}
